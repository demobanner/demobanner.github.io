<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Pandora 320x50</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.2/TweenMax.min.js"></script>
</head>
<body>
  <div id="banner">
    <a id="mainExit1" class="click-tag" href="javascript:">
      <div class="layer" id="text"></div>
      <div class="layer" id="charm1"></div>
      <div class="layer" id="charm2"></div>
      <div class="layer" id="charm3"></div>
      <div class="layer" id="charm4"></div>
      <div class="layer" id="cta"></div>
    </a>
    <a id="mainExit2" class="click-tag" href="javascript:">
      <div class="layer" id="bracelet"></div>
      <div class="layer" id="bracelet1"></div>
      <div class="layer" id="text1"></div>
      <div class="layer" id="logo"></div>
      <div class="layer" id="cta1"></div>
    </a>
  </div>
  <script type="text/javascript">
    var bannerTween = new TimelineLite();

    function preInit() {
      if (Enabler.isInitialized()) {
        init();
      } else {
        Enabler.addEventListener(studio.events.StudioEvent.INIT, init);
      }
    }

    function bgExitHandler1(e) {
      Enabler.exit('mainExit1','http://www.pandora.net/en-ae/explore/collections/essence/quiz');
    }

    function bgExitHandler2(e) {
      Enabler.exit('mainExit2','http://www.pandora.net/en-ae/explore/collections/essence');
    }

    var text      = document.getElementById('text'),
        charm1    = document.getElementById('charm1'),
        charm2    = document.getElementById('charm2'),
        charm3    = document.getElementById('charm3'),
        charm4    = document.getElementById('charm4'),
        text1     = document.getElementById('text1'),
        bracelet  = document.getElementById('bracelet'),
        bracelet1 = document.getElementById('bracelet1'),
        cta       = document.getElementById('cta'),
        cta1      = document.getElementById('cta1');

    function init() {
      document.getElementById('mainExit1').addEventListener('click', bgExitHandler1, false);
      document.getElementById('mainExit2').addEventListener('click', bgExitHandler2, false);
      bannerTween.to(text, 0.5, {autoAlpha: 1, top: 0})
                 .to(text, 0.5, {autoAlpha: 0}, "+=3");
      bannerTween.to(charm2, 0.5, {autoAlpha: 1})
                 .to(charm1, 0.5, {autoAlpha: 1, left: 0})                 
                 .to(charm3, 0.5, {autoAlpha: 1, left: 0}, "-=0.5")
                 .to(cta, 0.5, {autoAlpha: 1, left: 181})
                 .to([charm1, charm2, charm3, cta], 0.5, {autoAlpha: 0}, "+=2");
      bannerTween.to(text1, 0.5, {autoAlpha: 1, top: 0})
                 .to(mainExit1, 0.5, {display: 'none'}, "-=0.5")
                 .to(text1, 0.5, {autoAlpha: 0}, "+=2");
      bannerTween.to(bracelet, 0.5, {autoAlpha: 1, top:0})
                 .to(bracelet1, 0.5, {autoAlpha: 1, top:0}, "-=0.5")
                 .to(cta1, 0.5, {autoAlpha: 1, left: 171});
    }

    window.onload = preInit;
  </script>
</body>
</html>
