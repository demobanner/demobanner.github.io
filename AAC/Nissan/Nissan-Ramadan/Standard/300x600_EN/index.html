<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="ad.size" content="width=300,height=600">

    <title>Banner</title>
    <link rel="stylesheet" href="styles.css">
    <script src="TweenLite.min.js"></script>
    <script src="TimelineLite.min.js"></script>
    <script src="CSSPlugin.min.js"></script>
    <script type="text/javascript">
      var clickTag = "";
    </script>
    <script type="text/javascript">
      var tl = new TimelineLite(),
          tl1 = new TimelineLite();

      var timer,
          bg,
          shakeTxt,
          logo,
          coin,
          car1,
          car2,
          coin_bottom,
          coin_left1,
          coin_right1,
          coin_left2,
          coin_right2,
          text1,
          car3,
          car4,
          cta;

      function init() {
        start();
        document.getElementById('banner').addEventListener('mouseover', resume, false);
      }

      function start() {
        shakeTxt = document.getElementById("shakeTxt");
        coin   = document.getElementById("coin");

        tl.to(coin, 0.5, {autoAlpha: 1})
          .to(shakeTxt, 0.5, {autoAlpha: 1}, "-=0.5");

        timer = setTimeout(resume, 2000);
      }

      function resume() {
        clearTimeout(timer);
        document.getElementById('banner').removeEventListener('mouseover', resume);

            bg   = document.getElementById("bg"),
            bg2   = document.getElementById("bg2"),
            logo   = document.getElementById("logo"),
            coin   = document.getElementById("coin"),
            car1   = document.getElementById("car1"),
            car2   = document.getElementById("car2"),
            coin_bottom   = document.getElementById("coin-bottom"),
            coin_left1   = document.getElementById("coin-left1"),
            coin_right1   = document.getElementById("coin-right1"),
            coin_left2   = document.getElementById("coin-left2"),
            coin_right2   = document.getElementById("coin-right2"),
            text1   = document.getElementById("text1"),
            car3   = document.getElementById("car3"),
            car4   = document.getElementById("car4"),
            cta   = document.getElementById("cta"),
            reload = document.getElementById("reload");

            tl.to(coin, 0.1, {autoAlpha: 0})
              .to(shakeTxt, 0.1, {autoAlpha: 0}, "-=0.5")
           tl1.to(coin, 0.2, {autoAlpha: 1, scaleX:0})
              .to(coin, 0.2, {scaleX:1})
              .to(coin, 0.2, {scaleX:0})
              .to(coin, 0.2, {scaleX:1})
              .to(coin, 0.2, {scaleX:0})
              .to(coin, 0.2, {scaleX:1})
              .to(coin, 0.2, {scaleX:0})
              .to(coin, 0.2, {scaleX:1})
              .to(coin, 0.2, {scaleX: 0, autoAlpha: 0})
              .to([coin_left1, coin_right1], 1, {autoAlpha: 1, scale: 1, ease: Power2.easeIn}, "-=2.3")
              .to([coin_left1, coin_right1], 0.75, {top: 230, autoAlpha: 0, ease: Power2.easeOut}, "-=1.3")
              .to([coin_left2, coin_right2], 1, {autoAlpha: 1, scale: 1, ease: Power2.easeIn}, "-=1.8")
              .to([coin_left2, coin_right2], 0.75, {top: 230, autoAlpha: 0, ease: Power2.easeOut}, "-=0.8")
              .to(coin_bottom, 1.5, {autoAlpha: 1}, "-=1.3")
              .to([coin_bottom, bg], 0.5, {autoAlpha: 0}, "-=0.5")
              .to(car1, 0.5, {autoAlpha: 1})
              .to(car1, 0.5, {autoAlpha: 0, delay: 2})
              .to(car2, 0.5, {autoAlpha: 1})
              .to(car2, 0.5, {autoAlpha: 0, delay: 2})
              .to(car3, 0.5, {autoAlpha: 1})
              .to(car3, 0.5, {autoAlpha: 0, delay: 2})
              .to(car4, 0.5, {autoAlpha: 1})
              .to(car4, 0.5, {autoAlpha: 0, delay: 2})
              .to(text1, 0.5, {autoAlpha: 1})
              .to([text1, logo], 0.5, {autoAlpha: 0, delay: 2})
              .to(cta, 0.5, {autoAlpha: 1})
              .to(reload, 0.1, {autoAlpha: 1});
      }
      function reloadBanner() {
        tl1.restart();
      }
      window.onload = init;

    </script>
  </head>
  <body>
    <div id="banner">
      <a class="click-tag" href="javascript:window.open(window.clickTag, '_blank')">
        <div id="bg" class="layer"></div>
        <div id="shakeTxt" class="layer"></div>
        <div id="coin-bottom" class="layer"></div>
        <div id="coin-left1" class="layer"></div>
        <div id="coin-right1" class="layer"></div>
        <div id="coin-left2" class="layer"></div>
        <div id="coin-right2" class="layer"></div>
        <div id="coin" class="layer"></div>
        <div id="car1" class="layer"></div>
        <div id="car2" class="layer"></div>
        <div id="text1" class="layer"></div>
        <div id="car3" class="layer"></div>
        <div id="car4" class="layer"></div>
        <div id="cta" class="layer"></div>
        <div id="logo" class="layer"></div>
      </a>
      <div id="reload" class="layer" onclick="reloadBanner();"></div>
    </div>
  </body>
</html>
