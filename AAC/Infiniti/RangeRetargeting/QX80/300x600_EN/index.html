<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <title>Banners</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
		<script src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
    <script type="text/javascript">
      var clickTag = "";
    </script>
    <script type="text/javascript">
      var tl = new TimelineLite();
			function bgExitHandler(e){
				Enabler.exit('mainExit');
				//Enabler.exit('mainExit', 'http://www.infiniti-dubai.com/en/shopping_tools/request_test_drive.submitform.qx80.html');
			}
      function init() {
				document.getElementById('bg-exit').addEventListener('click', bgExitHandler, false);
        var bg = document.getElementById("bg"),
            title = document.getElementById("title"),
            sub1 = document.getElementById("sub-1"),
            sub2 = document.getElementById("sub-2"),
            sub3 = document.getElementById("sub-3"),
            rate = document.getElementById("rate"),
            tc = document.getElementById("tc"),
            cta = document.getElementById("cta");
            reload = document.getElementById("reload");

        tl.to(bg, 0.5, {left: 0})
          .to(title, 0.5, {autoAlpha: 1, ease: Power2.easeOut}, '-=0.5')
          .to(rate, 0.5, {autoAlpha: 1, ease: Power2.easeOut})
          .to(sub1, 0.5, {autoAlpha: 1, ease: Power2.easeOut, delay: 1})
          .to(sub1, 0.5, {autoAlpha: 0, delay: 2.5})
          .to(sub2, 0.5, {autoAlpha: 1, ease: Power2.easeOut})
          .to(sub2, 0.5, {autoAlpha: 0, delay: 2.5})
          .to(sub3, 0.5, {autoAlpha: 1, ease: Power2.easeOut})
          .to(sub3, 0.5, {autoAlpha: 0, delay: 2.5})
          .to([sub1, sub2, sub3], 0.1, {autoAlpha: 0, delay: 1.5})
          .to(cta, 0.5, {autoAlpha: 1, ease: Power2.easeOut, delay: 1})
          .to(tc, 0.5, {autoAlpha: 1, delay: 1, ease: Power2.easeOut})
          .to(reload, 0.1, {autoAlpha: 1});
      }

      function reloadBanner() {
        tl.restart();
      }

      window.onload = function() {
				if (Enabler.isInitialized()) {
					init();
				} else {
					Enabler.addEventListener(studio.events.StudioEvent.INIT, init);
				}
			}
    </script>
  </head>
  <body>
    <div id="banner">
      <a id="bg-exit">
        <div id="bg" class="layer"></div>
        <div id="logo" class="layer"></div>
        <div id="awr-logo" class="layer"></div>
        <div id="title" class="layer"></div>
        <div id="rate" class="layer"></div>
        <div id="sub-1" class="layer"></div>
        <div id="sub-2" class="layer"></div>
        <div id="sub-3" class="layer"></div>
        <div id="tc" class="layer"></div>
        <div id="cta" class="layer"></div>
      </a>
        <div id="reload" class="layer" onclick="reloadBanner();"></div>
    </div>
  </body>
</html>
