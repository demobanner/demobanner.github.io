<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="ad.size" content= "width=300, height=250">
    <title>Weather Banners</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  <script type="text/javascript" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
    <script type="text/javascript">
      var clickTag = "";
    </script>
  </head>
  <body>
    <div id="banner">
      <a class="click-tag" style="display: inline-block;">
        <div id="frame-1">
          <video id="video" autoplay>
            <source src="rain.mp4" type="video/mp4">
          </video>
        </div>
        <div id="brush-1"></div>
        <div id="brush-2"></div>
        <div id="brush-3"></div>
        <div id="brush-4"></div>
        <div id="photo" class="layer"></div>
        <div id="text-1" class="layer"></div>
        <div id="text-2" class="layer"></div>
        <div id="text-3" class="layer"></div>
        <div id="frame-3" class="layer"></div>
        <div id="text-4" class="layer"></div>
        <div id="text-5" class="layer"></div>
        <div id="logo" class="layer"></div>
        <div id="title-logo" class="layer"></div>
        <div id="cta" class="layer"></div>
      </a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <script type="text/javascript">
      var bannerTween = new TimelineLite();
      var frame1      = document.getElementById('frame-1'),
          text1       = document.getElementById('text-1'),
          text2       = document.getElementById('text-2'),
          text3       = document.getElementById('text-3'),
          text4       = document.getElementById('text-4'),
          text5       = document.getElementById('text-5'),
          photo      = document.getElementById('photo'),
          brush1      = document.getElementById('brush-1'),
          brush2      = document.getElementById('brush-2'),
          brush3      = document.getElementById('brush-3'),
          brush4      = document.getElementById('brush-4'),
          frame3      = document.getElementById('frame-3'),
          video       = document.getElementById('video'),
          cta         = document.getElementById('cta'),
          logo        = document.getElementById('logo'),
          title_logo   = document.getElementById('title-logo');

      function preInit() {
        if (Enabler.isInitialized()) {
          init();
        } else {
          Enabler.addEventListener(studio.events.StudioEvent.INIT, init);
        }
      }

      function bgExitHandler(e) {
        Enabler.exit('mainExit','http://www.emiratesgroupcareers.com/english/Default.aspx');
      }
      function init() {
        Enabler.loadModule(studio.module.ModuleId.VIDEO, function() {
            studio.video.Reporter.attach('rain', video);
        });
        document.getElementById('banner').addEventListener('click', bgExitHandler, false);
        bannerTween.to(text1, 0.5, {autoAlpha: 1})
      }
      function lastFrame() {
        bannerTween.to(brush1, 0.3, {width: '100%'})
                    .to(brush2, 0.3, {width: '100%'})
                    .to(brush3, 0.3, {width: '100%'})
                    .to(brush4, 0.2, {width: '100%'})
                    .to(photo, 0.2, {autoAlpha: 1})
                    .to(text1, 0.5, {autoAlpha: 0},'+=1.5')
                    .to(text2, 0.5, {autoAlpha: 1})
                    .to(text2, 0.5, {autoAlpha: 0},'+=2')
                    .to(text3, 0.5, {autoAlpha: 1});
        bannerTween.to(frame3, 0.5, {autoAlpha: 1},'+=2.5')
                    .to(text4, 0.5, {autoAlpha: 1})
                    .to(text4, 0.5, {autoAlpha: 0},'+=1.5')
                    .to(title_logo, 0.5, {autoAlpha: 1})
                    .to(text5, 0.5, {autoAlpha: 1})
                    .to(cta, 0.5, {autoAlpha: 1});
      }
      video.onended = function() {
        lastFrame();
      }
      window.onload = preInit;
    </script>
  </body>
</html>
